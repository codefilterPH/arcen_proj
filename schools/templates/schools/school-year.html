{% load static %}

<style>
  /* Accordion body must keep text visible */
  .accordion-body {
    color: #212529 !important;
    background-color: #fff !important;
    overflow: visible !important;   /* prevents text clipping */
  }

  /* Students list always visible */
  .accordion-body .list-group-item {
    color: #212529 !important;
    background-color: #fff !important;
    font-size: 0.9rem;
    font-weight: 500;
  }

  /* Active accordion button styling */
  .accordion-button:not(.collapsed) {
    color: #0d6efd !important;
    background-color: #e7f1ff !important;
  }
</style>

<div id="schoolYearData" class="d-none">
  <div class="card shadow-sm border-0 mb-4">
    <div class="banner-header bg-primary text-white px-3 py-2 rounded-top">
      <i class="fas fa-calendar-alt me-2"></i>
      <span id="schoolYearTitle">School Year Information</span>
    </div>
    <div class="card-body">
      <div class="row g-4">

        <!-- School Year Card -->
        <div class="col-md-12">
          <div class="card shadow-sm border-0 h-100">
            <div class="card-body">

              <h5 class="fw-bold text-dark mb-3">
                <i class="fas fa-graduation-cap text-primary me-2"></i>
                <span id="currentSchoolYear">School Year</span>
              </h5>


              <!-- Summary -->
              <ul class="list-group list-group-flush mb-3">
                <li class="list-group-item px-0 d-flex justify-content-between align-items-center">
                  <span><i class="fas fa-book me-2 text-info"></i> Total Semesters</span>
                  <span class="badge bg-info rounded-pill">2</span>
                </li>
                <li class="list-group-item px-0 d-flex justify-content-between align-items-center">
                  <span><i class="fas fa-plane me-2 text-success"></i> Total Flights</span>
                  <span class="badge bg-success rounded-pill">3</span>
                </li>
                <li class="list-group-item px-0 d-flex justify-content-between align-items-center">
                  <span><i class="fas fa-users me-2 text-warning"></i> Total Students</span>
                  <span class="badge bg-warning text-dark rounded-pill">10</span>
                </li>
              </ul>

              <!-- Semesters Section -->
              <div class="mb-4">
                <h6 class="fw-bold mb-3">
                  <i class="fas fa-layer-group text-primary me-2"></i> Semesters
                </h6>

                <!-- Semester 1 -->
                <div class="mb-3">
                  <h6 class="fw-semibold text-dark">
                    <i class="fas fa-layer-group text-secondary me-2"></i> Semester 1
                  </h6>

                  <!-- Flights -->
                  <div class="accordion" id="semester1Flights">

                    <!-- Flight A -->
                    <div class="accordion-item">
                      <h2 class="accordion-header" id="flight1Heading">
                        <button class="accordion-button collapsed" type="button"
                                data-bs-toggle="collapse" data-bs-target="#flight1"
                                aria-expanded="false" aria-controls="flight1">
                          <i class="fas fa-plane text-success me-2"></i> Flight A
                        </button>
                      </h2>
                      <div id="flight1" class="accordion-collapse collapse"
                           aria-labelledby="flight1Heading"
                           data-bs-parent="#semester1Flights">
                        <div class="accordion-body">
                          <ul class="list-group list-group-flush">
                            <li class="list-group-item text-dark bg-white">
                              <i class="fas fa-user me-2 text-secondary"></i> Student 1
                            </li>
                            <li class="list-group-item text-dark bg-white">
                              <i class="fas fa-user me-2 text-secondary"></i> Student 2
                            </li>
                            <li class="list-group-item text-dark bg-white">
                              <i class="fas fa-user me-2 text-secondary"></i> Student 3
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>

                    <!-- Flight B -->
                    <div class="accordion-item">
                      <h2 class="accordion-header" id="flight2Heading">
                        <button class="accordion-button collapsed" type="button"
                                data-bs-toggle="collapse" data-bs-target="#flight2"
                                aria-expanded="false" aria-controls="flight2">
                          <i class="fas fa-plane text-success me-2"></i> Flight B
                        </button>
                      </h2>
                      <div id="flight2" class="accordion-collapse collapse"
                           aria-labelledby="flight2Heading"
                           data-bs-parent="#semester1Flights">
                        <div class="accordion-body">
                          <ul class="list-group list-group-flush">
                            <li class="list-group-item text-dark bg-white">
                              <i class="fas fa-user me-2 text-secondary"></i> Student A
                            </li>
                            <li class="list-group-item text-dark bg-white">
                              <i class="fas fa-user me-2 text-secondary"></i> Student B
                            </li>
                            <li class="list-group-item text-dark bg-white">
                              <i class="fas fa-user me-2 text-secondary"></i> Student C
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>

                <!-- Semester 2 -->
                <div class="mb-3">
                  <h6 class="fw-semibold text-dark">
                    <i class="fas fa-layer-group text-secondary me-2"></i> Semester 2
                  </h6>

                  <div class="accordion" id="semester2Flights">

                    <!-- Flight C -->
                    <div class="accordion-item">
                      <h2 class="accordion-header" id="flight3Heading">
                        <button class="accordion-button collapsed" type="button"
                                data-bs-toggle="collapse" data-bs-target="#flight3"
                                aria-expanded="false" aria-controls="flight3">
                          <i class="fas fa-plane text-success me-2"></i> Flight C
                        </button>
                      </h2>
                      <div id="flight3" class="accordion-collapse collapse"
                           aria-labelledby="flight3Heading"
                           data-bs-parent="#semester2Flights">
                        <div class="accordion-body">
                          <ul class="list-group list-group-flush">
                            <li class="list-group-item text-dark bg-white">
                              <i class="fas fa-user me-2 text-secondary"></i> Student X
                            </li>
                            <li class="list-group-item text-dark bg-white">
                              <i class="fas fa-user me-2 text-secondary"></i> Student Y
                            </li>
                            <li class="list-group-item text-dark bg-white">
                              <i class="fas fa-user me-2 text-secondary"></i> Student Z
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>

              </div>

            </div>
            <div class="card-footer d-flex justify-content-between">
              <button class="btn btn-sm btn-outline-primary">
                <i class="fas fa-eye"></i> View Details
              </button>
              <button class="btn btn-sm btn-outline-secondary">
                <i class="fas fa-edit"></i> Manage
              </button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- Back button for School Year -->
  <button id="btnBackToSchoolsYear" class="btn btn-outline-secondary">
    <i class="fas fa-arrow-left"></i> Back to Schools
  </button>


</div>
